<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnDeep4mC Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="header">
        <h1>EnDeep4mC: 4mC Site Prediction</h1>
        <p>A deep learning ensemble predictor for DNA 4mC modification sites. Combines CNN, BLSTM and Transformer models with advanced feature engineering.</p>
    </div>

    <div class="main-content">
        <form id="sequenceForm">
            <div class="form-group">
                <label for="speciesSelect">Target Species:</label>
                <select id="speciesSelect" required>
                    <option value="4mC_A.thaliana">Arabidopsis thaliana</option>
                    <option value="4mC_C.elegans">Caenorhabditis elegans</option>
                    <option value="4mC_D.melanogaster">Drosophila melanogaster</option>
                    <option value="4mC_E.coli">Escherichia coli</option>
                    <option value="4mC_G.subterraneus">Geobacter subterraneus</option>
                    <option value="4mC_G.pickeringii">Geobacter pickeringii</option>
                </select>
            </div>

            <div class="form-group">
                <label for="sequenceInput">DNA Sequence Input:</label>
                <textarea 
                    id="sequenceInput" 
                    rows="6" 
                    placeholder="Paste FASTA sequences here (e.g. >seq1\nATCGATCG...)"
                ></textarea>
            </div>

            <div class="form-group">
                <label for="sequenceFile">Or Upload FASTA File:</label>
                <input type="file" id="sequenceFile" accept=".fasta,.txt">
            </div>

            <button type="submit">Analyze Sequences</button>
        </form>

        <div id="result"></div>

        <div class="model-details">
            <h2>Model Architecture Details</h2>
            <div class="detail-grid">
                <div class="detail-card">
                    <h4>üß¨ Ensemble Framework</h4>
                    <ul class="feature-list">
                        <li>‚úîÔ∏è CNN</li>
                        <li>‚úîÔ∏è Bidirectional LSTM</li>
                        <li>‚úîÔ∏è Transformer</li>
                        <li>‚úîÔ∏è 3 Layer of Stacking Ensemble:</li>
                        <li> ‚Ä¢ Multimodal probability generation layer</li>
                        <li> ‚Ä¢ Meta-learning Layer(XGBoost+LightGBM)</li>
                        <li> ‚Ä¢ ElasticNet decision fusion layer</li>
                    </ul>
                </div>

                <div class="detail-card">
                    <h4>‚öôÔ∏è Dual-Adaptive Encoding</h4>
                    <ul class="feature-list">
                        <li class="full-width">14 Feature Encodings:
                            <div class="encoding-grid">
                                <span>‚Ä¢ ENAC</span>
                                <span>‚Ä¢ Binary</span>
                                <span>‚Ä¢ NCP</span>
                                <span>‚Ä¢ EIIP</span>
                                <span>‚Ä¢ Kmer (k=4)</span>
                                <span>‚Ä¢ CKSNAP</span>
                                <span>‚Ä¢ PseEIIP</span>
                                <span>‚Ä¢ TNC</span>
                                <span>‚Ä¢ RCKmer</span>
                                <span>‚Ä¢ SCPseTNC</span>
                                <span>‚Ä¢ PCPseTNC</span>
                                <span>‚Ä¢ ANF</span>
                                <span>‚Ä¢ NAC</span>
                                <span>‚Ä¢ TAC</span>
                            </div>
                        </li>
                        <div class="dual-adaptive">
                            <div class="adaptive-section">
                                <div class="adaptive-title">üåê Species-Adaptive:</div>
                                <div>‚Ä¢ Species-specific feature ranking</div>
                            </div>
                            <div class="adaptive-section">
                                <div class="adaptive-title">ü§ñ Model-Adaptive:</div>
                                <div>‚Ä¢ Models-specific feature processing</div>
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="detail-card">
                    <h4>üìä Performance Metrics</h4>
                    <ul class="feature-list">
                        <li>Tested on 6 species</li>
                        <li>AUC: <span class="metric-range">0.9629~0.9999</span>
                            <span class="metric-average">0.9835 (Average)</span></li>
                        <li>ACC: <span class="metric-range">0.9023~0.9974</span>
                            <span class="metric-average">0.9472 (Average)</span></li>
                        <li>F1-Score: 
                            <span class="metric-average">0.9474 (Average)</span></li>
                        <li>MCC: 
                            <span class="metric-average">0.8945 (Average)</span></li>
                    </ul>
                </div>
            </div>

            <!-- Architecture Diagram Section -->
            <div class="architecture-container">
                <img src="{{ url_for('static', filename='Model Architecture Diagram.png') }}" 
                     alt="Model Architecture Diagram"
                     class="architecture-diagram">
                <div class="diagram-caption">
                    Integrated Deep Learning Architecture with Dual-Adaptive Encoding System
                </div>
            </div>
        </div>

        <div class="sample-sequences">
            <h3>Example FASTA Format</h3>
            <pre>>Sample_Sequence_1
ATGCTAGCTAGCTAGCTAGCTAGCTAGCTAGCTAGCTAGCTAGC
>Sample_Sequence_2
CGATCGATCGATCGATCGATCGATCGATCGATCGATCGATCGA</pre>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>